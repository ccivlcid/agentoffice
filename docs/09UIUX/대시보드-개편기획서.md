# 대시보드 페이지 개편 기획서

> HAIFeR Web IDE · Dashboard Redesign  
> 문서 버전 1.0 | 2026-02 기준

---

## 0. 문서 목적

- 대시보드 페이지의 **AS-IS 분석** 및 **개편 방향**을 문서로 정리한다.
- 구현 전 기획·디자인 합의용으로 사용하며, `docs/09UIUX/UI개편기획서.md` 및 `컴포넌트맵.md`와 정합성을 유지한다.
- 실제 코드 변경은 본 문서 검토·승인 후 단계별로 진행한다.

---

## 1. AS-IS 요약

### 1.1 현재 구조

| 구간 | 컴포넌트 | 역할 |
|------|----------|------|
| **게임 헤더** | `Dashboard.tsx` 내 인라인 | 회사명, LIVE 뱃지, 시각/날짜/브리핑, 리뷰 대기 건수, **미션 시작** CTA |
| **HUD 통계** | `DashboardHudStats` | 4칸 그리드: 미션 수, 완료율, 스쿼드(가동률), 진행중/계획 |
| **랭킹** | `DashboardRankingBoard` | XP 기준 TOP 에이전트, 포디엄(1·2·3위), XP 바, 랭크 티어 |
| **부서·스쿼드** | `DashboardGuildSquad` | 부서별 성과(진행률 바) + 작업중/유휴 에이전트 목록 |
| **미션 로그** | `DashboardMissionLog` | 최근 업데이트 태스크 6건, 상태·담당자·시간 |

### 1.2 데이터 소스

- **stats**: `CompanyStats` (서버 집계) — `tasks.total/done/in_progress/planned/review`, `agents.working/idle/total`, `tasks_by_department`, `top_agents` 등.
- **폴백**: `stats` 없을 때 `tasks`, `agents` 배열로 클라이언트 계산 (완료 수, 부서별 비율, TOP 에이전트 등).

### 1.3 강점

- **일관된 게이미피케이션 톤**: HUD, 랭킹, 미션 로그 등 용어·시각이 하나의 세계관을 이룸.
- **핵심 지표 한눈에**: 미션 수, 완료율, 스쿼드 가동률, 진행중/계획이 4칸으로 정리됨.
- **진입점 명확**: “미션 시작” CTA로 업무 보드·태스크 생성으로 자연스럽게 유도.
- **실시간 느낌**: LIVE 뱃지, 시각, 브리핑 문구로 “지금 돌아가고 있다”는 인상 제공.

### 1.4 개선 여지 (Pain Points)

| 영역 | 내용 |
|------|------|
| **정보 밀도** | 첫 화면에 블록이 많아 스크롤이 길고, “지금 당장 뭘 해야 하는지”가 CTA 외에는 상대적으로 약함. |
| **우선순위** | 리뷰 대기·진행중 업무 등 “즉시 액션”이 상단 CTA 근처에만 있고, 아래 블록과 시각적 연결이 약함. |
| **접근성·일관성** | `game-panel`, 그라데이션, 애니메이션 클래스가 여러 곳에 분산; 디자인 토큰(색, 간격) 정리 여지 있음. |
| **반응형** | 그리드(4칸 → 2칸)는 있으나, 헤더·랭킹·스쿼드 영역의 모바일 정리가 추가로 필요할 수 있음. |
| **빈 상태** | 에이전트/태스크 없을 때 안내 문구는 있으나, “다음 단계” 행동(에이전트 추가, 미션 생성)으로 바로 넘어가기 위한 링크/버튼이 명시적이지 않음. |
| **오피스뷰와의 관계** | 대시보드와 오피스 뷰가 같은 “현황 요약” 역할을 하는데, 진입점·역할 구분이 사용자 관점에서 더 드러나면 좋음. |

---

## 2. 개편 목표 및 원칙

### 2.1 목표

| 목표 | 설명 |
|------|------|
| **행동 유도 강화** | “지금 할 일”(리뷰 대기, 진행중 미션, 유휴 에이전트)을 더 눈에 띄게 하고, 클릭 시 업무 보드/오피스 등으로 직행할 수 있게 한다. |
| **정보 계층 정리** | 1) 한눈에 보는 KPI, 2) 팀/에이전트 현황, 3) 최근 활동 로그 순으로 위계를 명확히 한다. |
| **디자인 시스템 정합** | `UI개편기획서` 및 기존 디자인 토큰(색, 타입, 간격)과 맞추고, 불필요한 장식은 줄여 가독성과 유지보수성을 높인다. |
| **접기/펼치기 등 유연성** | 업무 보드처럼 “스티커 메모”식 접기·펼치기나, 블록별 표시/숨김 등 사용자 맞춤 가능성을 검토한다. |

### 2.2 원칙

- **기존 톤 유지**: “미션/스쿼드/랭킹” 등 게이미피케이션 용어와 분위기는 유지하되, 과한 시각 효과는 줄인다.
- **점진적 개편**: 한 번에 전면 교체보다, 헤더 → HUD → 랭킹 → 부서/스쿼드 → 미션 로그 순으로 블록 단위 개선을 권장한다.
- **접근성**: 색상 대비, 포커스 순서, `aria-label` 등은 `UI개편기획서` § 접근성 요구사항을 따른다.
- **i18n**: 모든 신규/수정 문구는 `t({ ko: '...', en: '...' })` 형태로 이중 언어 대응한다.

---

## 3. TO-BE 제안

### 3.1 레이아웃 위계 (제안)

```
┌─────────────────────────────────────────────────────────────┐
│  [게임 헤더] 회사명 · LIVE · 시각 · 날짜 · 브리핑 · 리뷰대기  │
│  [Primary CTA] 미션 시작 (업무 보드/태스크 생성 유도)         │
├─────────────────────────────────────────────────────────────┤
│  [KPI 스트립] 미션 · 완료율 · 스쿼드 · 진행중 (4칸, 압축 가능) │
├─────────────────────────────────────────────────────────────┤
│  [즉시 액션] 리뷰 대기 N건 → 보기 | 진행중 미션 → 보기 (선택)  │
├─────────────────────────────────────────────────────────────┤
│  [랭킹 보드] TOP 에이전트 · 포디엄 · XP 바                    │
├─────────────────────────────────────────────────────────────┤
│  [부서 성과] 부서별 진행률  │  [스쿼드] 작업중 / 유휴 에이전트 │
├─────────────────────────────────────────────────────────────┤
│  [미션 로그] 최근 활동 6건 (태스크 제목, 상태, 담당자, 시간)  │
└─────────────────────────────────────────────────────────────┘
```

- **즉시 액션**은 리뷰 대기 건수가 0보다 클 때만 노출하거나, “진행중 미션” 링크를 함께 두어 업무 보드 해당 컬럼/필터로 이동하게 할 수 있다.
- **KPI 스트립**은 옵션으로 “한 줄 접기”를 두어 숫자만 보이게 할 수 있다 (스티커 메모 스타일과 유사).

### 3.2 블록별 개편 방향

| 블록 | AS-IS | TO-BE 방향 |
|------|-------|------------|
| **게임 헤더** | 회사명, LIVE, 시각, 날짜, 브리핑, 리뷰대기, CTA | 날짜/브리핑을 한 줄로 압축; 리뷰 대기를 “알림” 스타일로 강조; CTA는 유지하되 버튼 스타일을 디자인 토큰에 맞춤. |
| **HUD 통계** | 4칸, 호버 시 약간 상승 | 숫자·라벨 위계 명확화; 필요 시 “접기” 시 한 줄 요약(미션/완료율/스쿼드/진행중만) 표시. |
| **즉시 액션** | 없음 | 신규. “리뷰 대기 N건 → 보기”, “진행중 미션 → 보기” 등 1~2개 링크/버튼으로 업무 보드로 직결. |
| **랭킹 보드** | 포디엄 + TOP 목록 + XP 바 | 유지. 빈 상태 시 “에이전트 추가” 등 명시적 CTA 추가 검토. |
| **부서·스쿼드** | 부서 성과 + 작업중/유휴 | 부서 카드 클릭 시 오피스 뷰 해당 부서 또는 업무 보드 부서 필터로 이동 옵션 검토. 유휴 N명 클릭 시 휴게실(미배정)로 이동 등. |
| **미션 로그** | 최근 6건, 상태 색상 바 | 행 클릭 시 해당 태스크 상세 또는 업무 보드로 이동. “더 보기”로 업무 보드 전체 보기 링크 추가 검토. |

### 3.3 접기/펼치기(스티커 메모 스타일) 제안

- **컬럼 접기**와 유사하게, 대시보드 블록별로 “접기/펼치기”를 두는 방안을 검토한다.
  - **HUD**: 펼침 = 4칸 카드, 접음 = 한 줄 요약(미션 / 완료율 / 스쿼드 / 진행중 숫자만).
  - **랭킹**: 펼침 = 포디엄 + 목록, 접음 = 헤더 + “TOP 5” 요약만.
  - **부서·스쿼드**: 펼침 = 현재 레이아웃, 접음 = “부서 성과 / 스쿼드” 헤더 + 숫자 요약만.
  - **미션 로그**: 펼침 = 6건 목록, 접음 = “최근 활동” 헤더 + “N건” 배지만.
- 접힌 상태는 `localStorage`에 저장해 재방문 시 유지할 수 있다 (예: `climpire.dashboard.blocksFolded`).

### 3.4 시각·디자인

- **색상**: 기존 `--th-*` 및 Tailwind 팔레트(slate, cyan, amber, violet 등) 유지. 새 강조색은 디자인 시스템에 맞춰 추가.
- **타이포**: 제목/부제/숫자/캡션 위계를 명확히 하고, 과도한 `font-black`·`uppercase`는 필요한 곳만 유지.
- **애니메이션**: `animate-cta-glow`, `animate-neon-pulse-orange` 등은 유지하되, 새 애니메이션은 `duration`·`ease` 통일.
- **아이콘**: 계속 `lucide-react`만 사용 (이모지 없음). `UI개편기획서` §2.3 Dashboard 목록과 일치.

### 3.5 반응형

- **모바일**: 헤더의 날짜/브리핑을 2줄로 정리하거나 툴팁/접기로 숨김. HUD는 2×2 그리드 유지. 랭킹 포디엄은 가로 스크롤 또는 세로 스택 검토.
- **태블릿 이상**: 현재와 동일하게 4칸 HUD, 랭킹, 부서|스쿼드 2열, 미션 로그 풀폭.

### 3.6 빈 상태·에러

- 에이전트 0명: “에이전트를 추가하세요” + 설정/에이전트 관리로 가는 링크 또는 버튼.
- 태스크 0건: “미션을 생성하세요” + “미션 시작” CTA 강조.
- `stats` 로딩 실패: 기존처럼 클라이언트 폴백 유지; 필요 시 “일부 지표는 최신이 아닐 수 있습니다” 정도의 문구만 추가 검토.

---

## 4. 데이터·API

- **현재**: `CompanyStats` + `tasks` / `agents` 폴백. 변경 없이 유지 가능.
- **선택**: “즉시 액션”을 위해 리뷰 대기 건수, 진행중 미션 수 등은 이미 `stats`/`tasks`로 계산 가능하므로 별도 API는 불필요.

---

## 5. 구현 단계 제안

| 단계 | 내용 | 산출물 |
|------|------|--------|
| **Phase 0** | 본 기획서 검토·합의 | 문서 확정 |
| **Phase 1** | 게임 헤더 정리 + 즉시 액션 영역 추가 | 헤더/CTA/리뷰대기·진행중 링크 |
| **Phase 2** | HUD 블록 접기/펼치기 + localStorage | KPI 스트립 접기 상태 저장 |
| **Phase 3** | 랭킹·부서·스쿼드 블록 접기/펼치기 | 블록별 접기 상태 저장 |
| **Phase 4** | 미션 로그 행 클릭 시 업무 보드 이동 + “더 보기” | 네비게이션 연결 |
| **Phase 5** | 부서/스쿼드 카드 클릭 시 오피스뷰·필터 연동 (선택) | 딥링크 또는 라우트 쿼리 |
| **Phase 6** | 빈 상태 CTA 보강, 반응형·접근성 점검 | 문서화 및 QA |

---

## 6. 참고

- **UI/UX 전면 개편**: `docs/09UIUX/UI개편기획서.md`
- **컴포넌트 구조**: `docs/09UIUX/컴포넌트맵.md` §2 메인 뷰 · Dashboard 하위
- **업무 보드 스티커 메모**: 업무 보드 컬럼/카드 접기·펼치기 구현 사례 참고
- **디자인 토큰**: 프로젝트 내 `--th-*` CSS 변수 및 Tailwind 설정

---

## 7. 변경 이력

| 일자 | 버전 | 변경 내용 |
|------|------|-----------|
| 2026-02 | 1.0 | 초안 작성 (AS-IS 분석, TO-BE 제안, 단계별 구현 제안) |
