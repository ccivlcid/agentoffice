# HyperClaw v1.1.8 Release Notes

- Release date: 2026-02-23
- Scope: Sub-agent orchestration reliability hardening (multi-model stream parsing + burst-safe UI sync) and Office/AgentDetail sub-agent visualization updates.

## Highlights

- **Sub-agent Stream Parsing Expanded Across Models**
  - Added normalized sub-agent event parsing for Claude, Codex, OpenCode, and Gemini tool-call stream shapes.
  - Improved spawn/done/thread-bind handling so sub-agent lifecycle UI is detected more consistently across providers.

- **Burst-safe Sub-agent UI Tracking**
  - Added per-task stream-tail buffering for CLI output parsing to reduce dropped sub-agent events during very large output bursts.
  - Preserves split JSON lines across websocket chunks before parsing.

- **State Sync Guardrails**
  - Added extra-field comparison fallback in agent/task equality checks to reduce missed UI refreshes when non-listed fields change.
  - Changed unknown `agent_status` handling to trigger live sync instead of immediately appending unknown IDs, reducing temporary ghost-agent UI artifacts.

- **Office Sub-agent Visual Overhaul**
  - Switched sub-agent visuals from dark shadow clones to small character helpers.
  - Added smoke-burst summon/despawn effects and periodic celebratory fireworks.
  - Tuned movement to a calmer “supporting from behind” motion and removed afterimage trails.
  - Sub-agent helper character is now randomly assigned per sub-agent ID (no longer forced to parent-character clone).

- **Agent Detail “Sub-agents” Tab Icon Sync**
  - Replaced fixed sub-agent emoji icon with sprite avatar rendering.
  - Uses the same sub-agent sprite selection rule as Office view for visual consistency.

## Changed Files

### Frontend
- `src/App.tsx`
- `src/components/OfficeView.tsx`
- `src/components/AgentDetail.tsx`

### Docs
- `README.md`
- `README_ko.md`
- `README_jp.md`
- `README_zh.md`
- `docs/releases/README.md`
- `docs/releases/v1.1.8.md`

## Verification

- `pnpm run build`
  - `vite build` passed
